@startuml
title Diagrama de classes UML do Simulador de Hidrometro

class Cano {
    - bitola: float
    - tempoMiliseg: int
    - vazao: float
    - isAr: bool

    + getBitola(): float
    + getVazao(): float
    + getTempoMiliseg(): int
    + getIsAr(): Bool
    + setVazao(vazao: float): void
    + setIsAr(isAr: bool): void
}

class Display {
    - sequencia: int
    - caminhoImagemBase: string

    - avancarSequencia(): void
    + gerarImagem(consumo: string): void
    + getSequencia(): int
}

class Hidrometro {
    - entrada: Cano
    - saida: Cano
    - volumeMax: int
    - consumo: float
    - perdaAr: float
    - dezenasLitros: int
    - centenasLitros: int
    - volume: int

    + getConsumo(): int
    + getEntrada(): Cano
    + getDezenasLitros(): int
    + getCentenasLitros(): int
    + getVolume(): int
    + medir(): void
}

class Controlador {
    - intervaloImagem: int
    - hidrometro: Hidrometro
    - display: Display
    - im: ImageManager
    - parar: bool

    - gerarVazaoAleatoria(): float
    - gerarArAleatorio: bool
    - formatarConsumoTotal: string
    - controlar(): void
    - exibicao(): void
    + iniciarControle(): void
    + pararControle(): void
}

class ImageManager {
    + abrirImagem: Process
    + fecharImagem(processo: Process): void
}

'--- Relações ---
Hidrometro o-- Cano : entrada
Hidrometro o-- Cano : saida
Controlador o-- Hidrometro : controla
Controlador o-- Display : controla
Controlador o-- ImageManager : controla

@enduml